# ุงูุชูุงุฑูุฑ ุงููุงููุฉ - ุฏููู ุดุงูู

## โ ุงูุชูุงุฑูุฑ ุงููุชุงุญุฉ

### 1. ูุงุฆูุฉ ุงูุฏุฎู (Income Statement)
**ุงููุฏู**: ุนุฑุถ ุงูุฅูุฑุงุฏุงุช ูุงููุตุฑููุงุช ูุตุงูู ุงูุฑุจุญ

**ุงูุจูุงูุงุช ุงููุนุฑูุถุฉ**:
- **ุงูุฅูุฑุงุฏุงุช**:
  - ุฅุฌูุงูู ุงูุฅูุฑุงุฏุงุช
  - ุฏุฎู ุงูุฃูุณุงุท (ูู ุงูุจูููุตุงุช)
  - ุฏุฎู ุงูุนูููุงุช
  - ุนุฏุฏ ุงูุจูููุตุงุช
  
- **ุงููุตุฑููุงุช**:
  - ุฅุฌูุงูู ุงููุตุฑููุงุช
  - ุงููุตุฑููุงุช ุญุณุจ ุงููุฆุฉ (ุฃุนูู 3 ูุฆุงุช)
  
- **ุงูุฑุจุญูุฉ**:
  - ุตุงูู ุงูุฑุจุญ = ุงูุฅูุฑุงุฏุงุช - ุงููุตุฑููุงุช
  - ูุงูุด ุงูุฑุจุญ ุงูุตุงูู %

**API Endpoint**: `GET /api/erp/reports/income-statement?from=YYYY-MM-DD&to=YYYY-MM-DD`

**ุงุณุชุฎุฏุงู**:
```typescript
// ูุซุงู: ูุงุฆูุฉ ุฏุฎู ููุนุงู 2024
GET /api/erp/reports/income-statement?from=2024-01-01&to=2024-12-31
```

---

### 2. ุงูููุฒุงููุฉ ุงูุนููููุฉ (Balance Sheet)
**ุงููุฏู**: ุนุฑุถ ุงูุฃุตูู ูุงูุฎุตูู ูุญููู ุงูููููุฉ

**ุงูุจูุงูุงุช ุงููุนุฑูุถุฉ**:
- **ุงูุฃุตูู**:
  - ุงูููุฏูุฉ
  - ุงูุฐูู ุงููุฏููุฉ
  - ุฃุตูู ุฃุฎุฑู
  - ุฅุฌูุงูู ุงูุฃุตูู
  
- **ุงูุฎุตูู**:
  - ุงูุฐูู ุงูุฏุงุฆูุฉ
  - ุฎุตูู ุฃุฎุฑู
  - ุฅุฌูุงูู ุงูุฎุตูู
  
- **ุญููู ุงูููููุฉ**:
  - ุฑุฃุณ ุงููุงู
  - ุงูุฃุฑุจุงุญ ุงููุญุชุฌุฒุฉ
  - ุฅุฌูุงูู ุญููู ุงูููููุฉ

- **ุงูุชูุงุฒู ุงููุญุงุณุจู**:
  - ุงูุชุญูู ูู: ุงูุฃุตูู = ุงูุฎุตูู + ุญููู ุงูููููุฉ

**API Endpoint**: `GET /api/erp/reports/balance-sheet?date=YYYY-MM-DD`

**ุงุณุชุฎุฏุงู**:
```typescript
// ูุซุงู: ููุฒุงููุฉ ุนููููุฉ ููุง ูู 31 ุฏูุณูุจุฑ 2024
GET /api/erp/reports/balance-sheet?date=2024-12-31
```

---

### 3. ูุงุฆูุฉ ุงูุชุฏููุงุช ุงูููุฏูุฉ (Cash Flow Statement)
**ุงููุฏู**: ุชุชุจุน ุญุฑูุฉ ุงูููุฏ ุงูุฏุงุฎูุฉ ูุงูุฎุงุฑุฌุฉ

**ุงูุจูุงูุงุช ุงููุนุฑูุถุฉ**:
- **ุงูุชุฏููุงุช ุงูุฏุงุฎูุฉ**:
  - ุงูุชุฏููุงุช ุญุณุจ ุทุฑููุฉ ุงูุฏูุน
  - ุฅุฌูุงูู ุงูุชุฏููุงุช ุงูุฏุงุฎูุฉ
  
- **ุงูุชุฏููุงุช ุงูุฎุงุฑุฌุฉ**:
  - ุงููุตุฑููุงุช ุงููุฏููุนุฉ ุญุณุจ ุงููุฆุฉ
  - ุฅุฌูุงูู ุงูุชุฏููุงุช ุงูุฎุงุฑุฌุฉ
  
- **ุตุงูู ุงูุชุฏูู ุงูููุฏู**:
  - ุงูุชุฏููุงุช ุงูุฏุงุฎูุฉ - ุงูุชุฏููุงุช ุงูุฎุงุฑุฌุฉ

**API Endpoint**: `GET /api/erp/reports/cash-flow?from=YYYY-MM-DD&to=YYYY-MM-DD`

**ุงุณุชุฎุฏุงู**:
```typescript
// ูุซุงู: ุชุฏููุงุช ููุฏูุฉ ููุฑุจุน ุงูุฃูู 2024
GET /api/erp/reports/cash-flow?from=2024-01-01&to=2024-03-31
```

---

### 4. ุชูุฑูุฑ ุงููุตุฑููุงุช ุญุณุจ ุงููุฆุฉ
**ุงููุฏู**: ุชุญููู ุชูุตููู ูููุตุฑููุงุช

**ุงูุจูุงูุงุช ุงููุนุฑูุถุฉ**:
- ุงููุฆุฉ
- ุงููุจูุบ ุงูุฅุฌูุงูู
- ุงููุณุจุฉ ูู ุฅุฌูุงูู ุงููุตุฑููุงุช
- ุงููุจูุบ ุงููุฏููุน
- ุงููุจูุบ ุงููุนูู
- ุนุฏุฏ ุงููุนุงููุงุช

**API Endpoint**: `GET /api/erp/reports/expenses-by-category?from=YYYY-MM-DD&to=YYYY-MM-DD`

**ุงุณุชุฎุฏุงู**:
```typescript
// ูุซุงู: ูุตุฑููุงุช ุดูุฑ ููุงูุฑ 2024
GET /api/erp/reports/expenses-by-category?from=2024-01-01&to=2024-01-31
```

---

### 5. ุชูุฑูุฑ ุงูุฅูุฑุงุฏุงุช ุญุณุจ ุงููุชุฑุฉ (ุดูุฑู)
**ุงููุฏู**: ุชุญููู ุงูุฅูุฑุงุฏุงุช ุจุดูู ุดูุฑู

**ุงูุจูุงูุงุช ุงููุนุฑูุถุฉ**:
- ุงูุดูุฑ ูุงูุณูุฉ
- ุฅุฌูุงูู ุงูุฅูุฑุงุฏุงุช
- ุนุฏุฏ ุงูุจูููุตุงุช
- ูุชูุณุท ุงูุฏูุนุฉ

**API Endpoint**: `GET /api/erp/reports/revenue-by-period?from=YYYY-MM-DD&to=YYYY-MM-DD`

**ุงุณุชุฎุฏุงู**:
```typescript
// ูุซุงู: ุฅูุฑุงุฏุงุช ุดูุฑูุฉ ููุนุงู 2024
GET /api/erp/reports/revenue-by-period?from=2024-01-01&to=2024-12-31
```

---

## ๐จ ุงููุงุฌูุฉ ุงูุชูุงุนููุฉ

### ุงุฎุชูุงุฑ ุงูุชูุฑูุฑ
- 5 ุจุทุงูุงุช ุชูุงุนููุฉ ูุงุฎุชูุงุฑ ููุน ุงูุชูุฑูุฑ
- ุฃููููุงุช ููููุฉ ููู ุชูุฑูุฑ
- ุชุฃุซูุฑุงุช Hover ู Scale

### ููุชุฑุฉ ุงูุจูุงูุงุช
- **ูู ุชุงุฑูุฎ**: ุงุฎุชูุงุฑ ุชุงุฑูุฎ ุงูุจุฏุงูุฉ
- **ุฅูู ุชุงุฑูุฎ**: ุงุฎุชูุงุฑ ุชุงุฑูุฎ ุงูููุงูุฉ
- **ุฅูุดุงุก ุงูุชูุฑูุฑ**: ุชูููุฏ ุงูุชูุฑูุฑ ุจุงููุชุฑุฉ ุงููุญุฏุฏุฉ
- **ุฅุนุงุฏุฉ ุชุนููู**: ูุณุญ ุงูููุงุชุฑ

### ุนุฑุถ ุงูุชูุฑูุฑ
- ุชุตููู ุงุญุชุฑุงูู ุจุฃููุงู ูููุฒุฉ
- ูุฑูุช ูููุตูุฉ ููู ูุณู
- ุฌุฏุงูู ุชูุตูููุฉ ูุน ุชุฑุชูุจ RTL
- Badges ููููุฉ ููุญุงูุงุช ูุงููุณุจ
- ูุคุดุฑ ุงูุชูุงุฒู ุงููุญุงุณุจู (ููููุฒุงููุฉ)

### ุงูุทุจุงุนุฉ ูุงูุชุตุฏูุฑ
- ุฒุฑ ุทุจุงุนุฉ ูุธูุฑ ุนูุฏ ูุฌูุฏ ุจูุงูุงุช
- ุชูุณูู ููุงุณุจ ููุทุจุงุนุฉ (`print:`)
- ูุฎูู ุนูุงุตุฑ ุงูุชุญูู ุนูุฏ ุงูุทุจุงุนุฉ

---

## ๐ ูุตุงุฏุฑ ุงูุจูุงูุงุช

### ุงูุฅูุฑุงุฏุงุช
```typescript
Collection: Payment
Fields: total, netPremium, commission, createdAt
```

### ุงููุตุฑููุงุช
```typescript
Collection: Expense
Fields: amount, category, status, date
```

### ุงูุญุณุงุจุงุช
```typescript
Collection: Account
Fields: type, balance, debitBalance, creditBalance
```

---

## ๐ ููููุฉ ุงูุนูู

### 1. Frontend โ Backend
```typescript
// Frontend ูุฑุณู ุทูุจ
api.get("/erp/reports/income-statement?from=2024-01-01&to=2024-12-31")

// Backend ูุนุงูุฌ
- ูุทุจู ุงูููุงุชุฑ ุนูู Payments ู Expenses
- ูุญุณุจ ุงูุฅุญุตุงุฆูุงุช ุจุงุณุชุฎุฏุงู MongoDB Aggregation
- ูุนูุฏ ุงูุจูุงูุงุช ุงูููุธูุฉ
```

### 2. Backend Processing
```typescript
// ูุซุงู: ูุงุฆูุฉ ุงูุฏุฎู
const revenueData = await Payment.aggregate([
  { $match: { createdAt: { $gte: from, $lte: to } } },
  { $group: { _id: null, totalRevenue: { $sum: "$total" } } }
]);

const expensesData = await Expense.aggregate([
  { $match: { date: { $gte: from, $lte: to }, status: { $in: ["paid", "pending"] } } },
  { $group: { _id: "$category", total: { $sum: "$amount" } } }
]);
```

### 3. Frontend Display
```typescript
// Frontend ูุนุฑุถ ุงูุจูุงูุงุช
- ููุตู ุงูุจูุงูุงุช ุญุณุจ ููุน ุงูุชูุฑูุฑ
- ูุณุชุฎุฏู formatCurrency ููุชูุณูู
- ูุนุฑุถ ุงูุฑุณูู ุงูุจูุงููุฉ (ุงุฎุชูุงุฑู)
```

---

## โจ ุงูููุฒุงุช ุงูุฎุงุตุฉ

### 1. ุงูุชุญูู ูู ุงูุชูุงุฒู ุงููุญุงุณุจู
```typescript
balanced: Math.abs(totalAssets - totalLiabilitiesAndEquity) < 1
```
- ูุธูุฑ Badge ุฃุฎุถุฑ ุฅุฐุง ูุชูุงุฒู
- ูุธูุฑ Badge ุฃุญูุฑ ุฅุฐุง ุบูุฑ ูุชูุงุฒู

### 2. ุญุณุงุจ ุงููุณุจ ุงููุฆููุฉ
```typescript
percentage = (categoryTotal / totalExpenses) * 100
```

### 3. ูุงูุด ุงูุฑุจุญ
```typescript
netMargin = (netIncome / totalRevenue) * 100
```

### 4. ุตุงูู ุงูุชุฏูู ุงูููุฏู
```typescript
netCashFlow = totalInflows - totalOutflows
```

---

## ๐ฏ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู

### ููุฅุฏุงุฑุฉ ุงูุนููุง
- ูุงุฆูุฉ ุงูุฏุฎู (ุฑุจุน ุณููู/ุณููู)
- ุงูููุฒุงููุฉ ุงูุนููููุฉ (ููุงูุฉ ุงููุชุฑุฉ)
- ูุณุจ ุงูุฑุจุญูุฉ

### ูููุญุงุณุจูู
- ุงูุชุฏููุงุช ุงูููุฏูุฉ (ุดูุฑู)
- ุงููุตุฑููุงุช ุญุณุจ ุงููุฆุฉ
- ุงูุชูุงุฒู ุงููุญุงุณุจู

### ููุชุฎุทูุท ุงููุงูู
- ุงูุฅูุฑุงุฏุงุช ุงูุดูุฑูุฉ (ููุชูุจุค)
- ุชุญููู ุงููุตุฑููุงุช (ููุชุญูู)
- ูุชูุณุท ุงูุฏูุนุฉ (ููุชุณุนูุฑ)

---

## ๐ฑ Responsive Design

- **Desktop**: 3 ุฃุนูุฏุฉ ููุจุทุงูุงุช
- **Tablet**: ุนููุฏุงู
- **Mobile**: ุนููุฏ ูุงุญุฏ
- ุฌุฏุงูู ูุงุจูุฉ ููุชูุฑูุฑ ุฃูููุงู

---

## ๐ ุงูุฃูุงู

- ุฌููุน ุงูุชูุงุฑูุฑ ูุญููุฉ ุจู `protect` middleware
- ูุชุทูุจ JWT token ุตุงูุญ
- ููุชุฑุฉ ุงูุจูุงูุงุช ุญุณุจ ุงููุฑูุฒ (ุงุฎุชูุงุฑู)

---

## ๐ ุงูุชุญุณููุงุช ุงููุณุชูุจููุฉ

### ุงููุฑุญูุฉ 1
- [ ] ุฑุณูู ุจูุงููุฉ ุชูุงุนููุฉ (Charts.js)
- [ ] ุชุตุฏูุฑ PDF ุจุชูุณูู ุงุญุชุฑุงูู
- [ ] ุชุตุฏูุฑ Excel ูุชูุฏู

### ุงููุฑุญูุฉ 2
- [ ] ุชูุงุฑูุฑ ูุฎุตุตุฉ (Custom Reports)
- [ ] ุฌุฏููุฉ ุงูุชูุงุฑูุฑ ุงูุชููุงุฆูุฉ
- [ ] ุฅุฑุณุงู ุงูุชูุงุฑูุฑ ุนุจุฑ ุงูุจุฑูุฏ

### ุงููุฑุญูุฉ 3
- [ ] Dashboard ุชูุงุนูู ููุชูุงุฑูุฑ
- [ ] ููุงุฑูุฉ ุจูู ุงููุชุฑุงุช
- [ ] ุชุญููู ุงูุงุชุฌุงูุงุช (Trends)

---

## ๐ ุฃูุซูุฉ API Responses

### ูุงุฆูุฉ ุงูุฏุฎู
```json
{
  "success": true,
  "data": {
    "period": { "from": "2024-01-01", "to": "2024-12-31" },
    "revenue": {
      "totalRevenue": 125000000,
      "premiumIncome": 100000000,
      "commissionsIncome": 25000000,
      "totalPolicies": 1250
    },
    "expenses": {
      "byCategory": [
        { "_id": "ุฑูุงุชุจ", "total": 30000000, "count": 12 },
        { "_id": "ุฅูุฌุงุฑ", "total": 10000000, "count": 12 }
      ],
      "totalExpenses": 45000000
    },
    "profitability": {
      "grossProfit": 125000000,
      "netIncome": 80000000,
      "netMargin": 64.00
    }
  }
}
```

### ุงูููุฒุงููุฉ ุงูุนููููุฉ
```json
{
  "success": true,
  "data": {
    "asOfDate": "2024-12-31",
    "assets": {
      "cash": 50000000,
      "receivables": 20000000,
      "other": 10000000,
      "totalAssets": 80000000
    },
    "liabilities": {
      "payables": 15000000,
      "other": 5000000,
      "totalLiabilities": 20000000
    },
    "equity": {
      "capital": 40000000,
      "retainedEarnings": 20000000,
      "totalEquity": 60000000
    },
    "summary": {
      "totalAssets": 80000000,
      "totalLiabilitiesAndEquity": 80000000,
      "balanced": true
    }
  }
}
```

---

ุชู ุงูุชูุนูู ุจูุฌุงุญ! ๐
ุงูุชูุงุฑูุฑ ุงููุงููุฉ ุงูุขู ุชุนูู ุจุงููุงูู ูุน ุงูุจูุงูุงุช ุงูุญููููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช.
